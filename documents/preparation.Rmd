---
title: "Compare Linear and Cubist Modell"
author: "Aaron"
date: "7/12/2018"
output:
  html_document:
    code_folding: hide
    number_sections: yes
    toc: yes
    toc_float: yes
---

```{r prep-setup, include=FALSE}
library(here)
library(tidyverse)
library(recipes)
library(rsample)
library(rpart.plot)

source(here("scripts", "00functions.R"))
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(cache = FALSE)
knitr::read_chunk(here("scripts", "01load.R"))
knitr::read_chunk(here("scripts", "02preprocess.R"))
```

## Load

The data is loaded dircetly from SPSS files via the package `haven`, the origin of the files is unclear, but the dataset seems to be allready cleaned.

```{r load}
```

```{r collapse-categories}
```

## Choose Predictors

The predictors are choosen based on theorethical grounds, becouse it is well defined what is being measured. Therefore subtests of the intelligence tests are not included, becouse it is unclear what exactly is measured beyond the avereged scores for "verbal intelligence" and "numerical intelligence". However this situation is different for the personality tests, here it is clear what a facet is supossed to measure and there might be some information beyond simple sum scores. The test "diktat" is included as proxie for "crystal intelligence". Also age is inluded since there is some variability in that sample. Additionally the profession of the person is included. This is coded into four bigger groups.

```{r predictors}
```

```{r}
model_formula
```

## Resampling

Due to the medium sized sample we decided to use simple crossvolding over more complicated multilayed sampling/validation strategies. It is desirable to have "assesment samples" with a size well over 30, so the sampling distribution of the mean of the error converge faster to a normal distribution. Therefore we go for a 10 fold crossvalidation (size of assesment sample is then ca. 50). However to get a high stability we repeat this process 10 times. This is done with the R-Package `rsample`.

```{r resample}
```

## Preprocess

```{r recipe-with-profession, eval=FALSE}
```

